       1                                ;
       2                                ;    **************************************
       3                                ;    * Check BYTE Operations
       4                                ;    **************************************
       5                                ;
       6                                    .PSECT PTR,ABS
       7 001000                             .=1000
       8 001000 000500                  A1: .WORD 500
       9 001002 000502                  A2: .WORD 502
      10 001004 000504                  A3: .WORD 504
      11 001006 000506                  A4: .WORD 506
      12 001010 000510                  A5: .WORD 510
      13 001012 000512                  A6: .WORD 512
      14 001014 000514                  A7: .WORD 514
      15                                    .END PTR
      16                                
      17                                ;  Array to be indexed
      18                                	.PSECT ARRAY2, ABS
      19 000500                         	.=500
      20 000500    264                  B1: .BYTE 264
      21 000501    265                  B2: .BYTE 265
      22 000502    266                  B3: .BYTE 266
      23 000503    123                  B4: .BYTE 123
      24 000504    124                  B5: .BYTE 124
      25 000505    125                  B6: .BYTE 125
      26 000506    126                  B7: .BYTE 126
      27                                	.END ARRAY2
      28                                
      29 000507    125                  A:	.BYTE 125
      30 000510    252                  B:	.BYTE 252
      31 000511    155                  C:	.BYTE 155
      32 000512    100                  D:	.BYTE 100
      33                                
      34 005000                         	.=5000
      35                                	.PSECT PGM, REL
      36                                	; deferred mode check
      37                                START:
      38 000000 012706  000500          	MOV #B1,SP ; init SP
      39 000004 012700  000500          	MOV #B1,r0 ; pseudo SP
      40                                
      41 000010 112601                  	MOVB (SP)+, r1	 ; r1=264, SP=502
      42 000012 112003                  	MOVB (r0)+, r3  ; r3=264, r0=501
      43                                	
      44 000014 112602                  	MOVB (SP)+, r2  ; 
      45 000016 112004                  	MOVB (r0)+, r4  ;
      46                                
      47 000020 110105                  	MOVB r1, r5
      48 000022 060205                  	ADD  r2, r5
      49 000024 110526                  	MOVB r5, (SP)+
      50                                
      51 000026 105200                  	INCB r0
      52 000030 110305                  	MOVB r3, r5
      53 000032 060505                  	ADD  r5, r5
      54 000034 110520                  	MOVB r5, (r0)+
      55                                
      56 000036 116700  000507'         	MOVB A, r0
      57 000042 116701  000510'         	MOVB B, r1
      58 000046 120001                  	CMPB r0, r1
      59 000050 120100                  	CMPB r1, r0
      60 000052 130001                  	BITB r0, r1
      61 000054 000300                  	SWAB r0
      62 000056 140001                  	BICB r0, r1
      63 000060 150001                  	BISB r0, r1
      64 000062 012706  000512          	MOV #D, SP	
      65 000066 112603                  	MOVB (SP)+, r3
      66 000070 012706  000511          	MOV #C, SP	; SP=2
      67 000074 005216                  	INC (SP)        ; SP=2
      68 000076 010605                  	MOV SP, r5	; r5=2
      69 000100 105101                  	COMB r1
      70 000102 105246                  	INCB -(SP)	; [0]=126, SP=0
      71 000104 105305                  	DECB r5		; r5=1
      72 000106 105415                  	NEGB (r5)	; gives C=1
      73 000110 105515                  	ADCB (r5)
      74 000112 000261                  	SEC
      75 000114 105615                  	SBCB (r5)	; [r5] = 126
      76 000116 106015                  	RORB (r5)
      77 000120 106015                  	RORB (r5)
      78 000122 106015                  	RORB (r5)	; [r5] = 252
      79 000124 106115                  	ROLB (r5)
      80 000126 106115                  	ROLB (r5)
      81 000130 106115                  	ROLB (r5)	; [r5] = 126
      82 000132 106215                  	ASRB (r5)	
      83 000134 106215                  	ASRB (r5)	
      84 000136 106215                  	ASRB (r5)	; [r5] = 12, C-1
      85 000140 106315                  	ASLB (r5)	
      86 000142 106315                  	ASLB (r5)	
      87 000144 106315                  	ASLB (r5)	; [r5] = 120, C-0
      88 000146 105716                  	TSTB (SP)	
      89 000150 105016                  	CLRB (SP)
      90 000152 000000                  	HALT
      91                                	.END START
      92                                
      93                                
      94                                
      95                                
      96                                
      97                                
      98                                
      99                                
     100                                
     101                                
     102                                
     103                                
     104                                
     105                                
     106                                
     107                                
     108                                
     109                                
     110                                
     111                                
     112                                
     113                                
     114                                
     115                                
     116                                
     117                                
     118                                
     119                                
     120                                
     121                                
     122                                
     123                                
     124                                
     125 000154 000000                  	HALT
     126                                	.END START 	
     126                                
